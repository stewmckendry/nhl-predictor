See updated spec in Canvas with richer detail on architecture and flow.